---
interface Tag {
    name: string;
    slug: string;
    visibility?: string;
}

interface Props {
    tags?: Tag[];
}

const { tags = [] } = Astro.props;

// Filter to only show public tags (not internal # tags)
const visibleTags = tags.filter(tag => tag.visibility !== 'internal' && !tag.name.startsWith('#'));
---

<footer class="letter-signature">
    <span class="signature-name">Macon</span>
    {visibleTags.length > 0 && (
        <div class="signature-meta">
            <div class="signature-tags">
                {visibleTags.map((tag, index) => (
                    <>
                        {index > 0 && <span class="separator">Â·</span>}
                        <a href={`/tag/${tag.slug}/`}>{tag.name}</a>
                    </>
                ))}
            </div>
        </div>
    )}
</footer>

<style>
.letter-signature {
    margin-top: 2.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid var(--color-rule);
    text-align: right;
}

.signature-name {
    font-family: var(--font-signature);
    font-size: 2rem;
    font-weight: 400;
    color: var(--color-ink);
    line-height: 1;
}

.signature-meta {
    margin-top: 0.5rem;
    text-align: right;
}

.signature-tags a {
    font-family: var(--font-meta);
    font-size: 0.7rem;
    letter-spacing: 0.08em;
    color: var(--color-muted);
    text-transform: uppercase;
    text-decoration: none;
}

.signature-tags a:hover {
    color: var(--color-accent);
}

.signature-tags .separator {
    color: var(--color-rule);
    margin: 0 0.4rem;
}
</style>
